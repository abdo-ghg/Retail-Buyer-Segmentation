{% extends "base.html" %}

{% block title %}Home - Retail Buyer Segmentation{% endblock %}

{% block content %}
<div class="hero-section">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6">
                <h1 class="hero-title">
                    <i class="fas fa-users-cog"></i> Retail Buyer Segmentation
                </h1>
                <p class="hero-subtitle">
                    Analyze customer behavior, identify segments, and make data-driven decisions
                </p>
                <div class="hero-features">
                    <div class="feature-item">
                        <i class="fas fa-check-circle"></i> Advanced ML Clustering
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-check-circle"></i> Real-time Insights
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-check-circle"></i> Interactive Visualizations
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="hero-image">
                    <i class="fas fa-chart-pie"></i>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="container my-5">
    <div class="section-header text-center mb-5">
        <h2>Choose Your Input Method</h2>
        <p>Select how you want to analyze your customer data</p>
    </div>

    <div class="row g-4">
        <!-- Manual Input Card -->
        <div class="col-md-6">
            <div class="option-card">
                <div class="option-icon">
                    <i class="fas fa-keyboard"></i>
                </div>
                <h3>Manual Input</h3>
                <p>Enter customer data manually through a user-friendly form</p>
                <ul class="option-features">
                    <li><i class="fas fa-angle-right"></i> Single customer analysis</li>
                    <li><i class="fas fa-angle-right"></i> Quick predictions</li>
                    <li><i class="fas fa-angle-right"></i> Instant results</li>
                </ul>
                <a href="{{ url_for('manual_input') }}" class="btn btn-danger btn-lg w-100">
                    <i class="fas fa-arrow-right"></i> Start Manual Input
                </a>
            </div>
        </div>

        <!-- CSV Upload Card -->
        <div class="col-md-6">
            <div class="option-card">
                <div class="option-icon">
                    <i class="fas fa-file-csv"></i>
                </div>
                <h3>Upload CSV File</h3>
                <p>Analyze multiple customers at once by uploading a CSV file</p>
                <ul class="option-features">
                    <li><i class="fas fa-angle-right"></i> Bulk data processing</li>
                    <li><i class="fas fa-angle-right"></i> Comprehensive analytics</li>
                    <li><i class="fas fa-angle-right"></i> Detailed visualizations</li>
                </ul>
                <form action="{{ url_for('upload_file') }}" method="POST" enctype="multipart/form-data" id="uploadForm">
                    <div class="file-upload-wrapper">
                        <input type="file" name="file" id="fileInput" class="custom-file-input" accept=".csv" required>
                        <div class="file-upload-label">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <p class="file-name">Drag & Drop CSV file here</p>
                            <span class="file-instruction">or click to browse</span>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-danger btn-lg w-100" id="uploadBtn">
                        <i class="fas fa-upload"></i> Upload & Analyze
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Features Section -->
<div class="container my-5">
    <div class="section-header text-center mb-5">
        <h2>Key Features</h2>
        <p>Everything you need for customer segmentation</p>
    </div>

    <div class="row g-4">
        <div class="col-md-4">
            <div class="feature-card">
                <div class="feature-card-icon">
                    <i class="fas fa-brain"></i>
                </div>
                <h4>Machine Learning</h4>
                <p>K-Means clustering algorithm for accurate customer segmentation</p>
            </div>
        </div>
        <div class="col-md-4">
            <div class="feature-card">
                <div class="feature-card-icon">
                    <i class="fas fa-chart-bar"></i>
                </div>
                <h4>Data Visualization</h4>
                <p>Interactive charts and graphs to understand your customer base</p>
            </div>
        </div>
        <div class="col-md-4">
            <div class="feature-card">
                <div class="feature-card-icon">
                    <i class="fas fa-lightbulb"></i>
                </div>
                <h4>Actionable Insights</h4>
                <p>Get clear recommendations for marketing and sales strategies</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
document.getElementById('uploadForm').addEventListener('submit', function(e) {
    const fileInput = document.getElementById('fileInput');
    const uploadBtn = document.getElementById('uploadBtn');
    
    if (fileInput.files.length > 0) {
        uploadBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
        uploadBtn.disabled = true;
    }
});
</script>
{% endblock %}
